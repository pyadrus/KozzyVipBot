2023-10-05 23:22:09.218 | ERROR    | __main__:<module>:28 - Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
Traceback (most recent call last):

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\connector.py", line 1155, in _create_direct_connection
    hosts = await asyncio.shield(host_resolved)
                  │       │      └ <Task finished name='Task-2' coro=<TCPConnector._resolve_host() done, defined at C:\Users\zhvit\AppData\Local\Programs\Python...
                  │       └ <function shield at 0x0000028893E3C820>
                  └ <module 'asyncio' from 'C:\\Users\\zhvit\\AppData\\Local\\Programs\\Python\\Python310\\lib\\asyncio\\__init__.py'>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\connector.py", line 874, in _resolve_host
    addrs = await self._resolver.resolve(host, port, family=self._family)
                  │    │         │       │     │            │    └ 0
                  │    │         │       │     │            └ <aiohttp.connector.TCPConnector object at 0x0000028894F57730>
                  │    │         │       │     └ 443
                  │    │         │       └ 'api.telegram.org'
                  │    │         └ <function ThreadedResolver.resolve at 0x0000028894783250>
                  │    └ <aiohttp.resolver.ThreadedResolver object at 0x0000028894F57790>
                  └ <aiohttp.connector.TCPConnector object at 0x0000028894F57730>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\resolver.py", line 33, in resolve
    infos = await self._loop.getaddrinfo(
                  │    │     └ <function BaseEventLoop.getaddrinfo at 0x0000028893E49BD0>
                  │    └ <ProactorEventLoop running=False closed=False debug=False>
                  └ <aiohttp.resolver.ThreadedResolver object at 0x0000028894F57790>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 860, in getaddrinfo
    return await self.run_in_executor(
                 │    └ <function BaseEventLoop.run_in_executor at 0x0000028893E49A20>
                 └ <ProactorEventLoop running=False closed=False debug=False>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             │        │            └ None
             │        └ None
             └ None

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\socket.py", line 955, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               │       │           │     │     │       │     │      └ <AddressInfo.AI_ADDRCONFIG: 1024>
               │       │           │     │     │       │     └ 0
               │       │           │     │     │       └ <SocketKind.SOCK_STREAM: 1>
               │       │           │     │     └ 0
               │       │           │     └ 443
               │       │           └ 'api.telegram.org'
               │       └ <built-in function getaddrinfo>
               └ <module '_socket' from 'C:\\Users\\zhvit\\AppData\\Local\\Programs\\Python\\Python310\\DLLs\\_socket.pyd'>

socket.gaierror: [Errno 11004] getaddrinfo failed


The above exception was the direct cause of the following exception:


Traceback (most recent call last):

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\bot\api.py", line 139, in make_request
    async with session.post(url, data=req, **kwargs) as response:
               │       │    │         │      └ {'proxy': None, 'proxy_auth': None, 'timeout': <object object at 0x0000028891CB9660>}
               │       │    │         └ <aiohttp.formdata.FormData object at 0x0000028894F57880>
               │       │    └ 'https://api.telegram.org/bot6320651191:AAF-M9u4GUbWQFqoPvV8v-uaG5yQNT-kIVo/getMe'
               │       └ <function ClientSession.post at 0x0000028894821870>
               └ <aiohttp.client.ClientSession object at 0x0000028894F57850>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\client.py", line 1141, in __aenter__
    self._resp = await self._coro
    │    │             │    └ <member '_coro' of '_BaseRequestContextManager' objects>
    │    │             └ <aiohttp.client._RequestContextManager object at 0x0000028894F57A00>
    │    └ <member '_resp' of '_BaseRequestContextManager' objects>
    └ <aiohttp.client._RequestContextManager object at 0x0000028894F57A00>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\client.py", line 536, in _request
    conn = await self._connector.connect(
                 │    └ None
                 └ <aiohttp.client.ClientSession object at 0x0000028894F57850>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\connector.py", line 540, in connect
    proto = await self._create_connection(req, traces, timeout)
                  │    │                  │    │       └ ClientTimeout(total=300, connect=None, sock_read=None, sock_connect=None)
                  │    │                  │    └ []
                  │    │                  └ <aiohttp.client_reqrep.ClientRequest object at 0x0000028894F57AF0>
                  │    └ <function TCPConnector._create_connection at 0x00000288947A5120>
                  └ <aiohttp.connector.TCPConnector object at 0x0000028894F57730>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\connector.py", line 901, in _create_connection
    _, proto = await self._create_direct_connection(req, traces, timeout)
                     │    │                         │    │       └ ClientTimeout(total=300, connect=None, sock_read=None, sock_connect=None)
                     │    │                         │    └ []
                     │    │                         └ <aiohttp.client_reqrep.ClientRequest object at 0x0000028894F57AF0>
                     │    └ <function TCPConnector._create_direct_connection at 0x00000288947A5750>
                     └ <aiohttp.connector.TCPConnector object at 0x0000028894F57730>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiohttp\connector.py", line 1169, in _create_direct_connection
    raise ClientConnectorError(req.connection_key, exc) from exc
          │                    │   └ <property object at 0x0000028894773470>
          │                    └ <aiohttp.client_reqrep.ClientRequest object at 0x0000028894F57AF0>
          └ <class 'aiohttp.client_exceptions.ClientConnectorError'>

aiohttp.client_exceptions.ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

> File "C:\Users\zhvit\YandexDisk\Python\Боты Telegram\@KozzyVipBot\main.py", line 26, in <module>
    main()  # Запуск бота
    └ <function main at 0x0000028894F7CEE0>

  File "C:\Users\zhvit\YandexDisk\Python\Боты Telegram\@KozzyVipBot\main.py", line 16, in main
    executor.start_polling(dp, skip_updates=True)
    │        │             └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x0000028894ED6680>
    │        └ <function start_polling at 0x0000028894DDAEF0>
    └ <module 'aiogram.utils.executor' from 'C:\\Users\\zhvit\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\aio...

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\utils\executor.py", line 45, in start_polling
    executor.start_polling(
    │        └ <function Executor.start_polling at 0x0000028894DDB910>
    └ <aiogram.utils.executor.Executor object at 0x0000028894F574C0>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\utils\executor.py", line 320, in start_polling
    loop.run_until_complete(self._startup_polling())
    │    │                  │    └ <function Executor._startup_polling at 0x0000028894DDBBE0>
    │    │                  └ <aiogram.utils.executor.Executor object at 0x0000028894F574C0>
    │    └ <function BaseEventLoop.run_until_complete at 0x0000028893E49240>
    └ <ProactorEventLoop running=False closed=False debug=False>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py", line 646, in run_until_complete
    return future.result()
           │      └ <method 'result' of '_asyncio.Task' objects>
           └ <Task finished name='Task-1' coro=<Executor._startup_polling() done, defined at C:\Users\zhvit\AppData\Local\Programs\Python\...

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\utils\executor.py", line 372, in _startup_polling
    await self._welcome()
          │    └ <function Executor._welcome at 0x0000028894DDBAC0>
          └ <aiogram.utils.executor.Executor object at 0x0000028894F574C0>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\utils\executor.py", line 361, in _welcome
    user = await self.dispatcher.bot.me
                 │    │          │   └ <property object at 0x0000028894CCBBA0>
                 │    │          └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>
                 │    └ <aiogram.dispatcher.dispatcher.Dispatcher object at 0x0000028894ED6680>
                 └ <aiogram.utils.executor.Executor object at 0x0000028894F574C0>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\bot\bot.py", line 30, in me
    setattr(self, '_me', await self.get_me())
            │                  │    └ <function Bot.get_me at 0x0000028894CBD990>
            │                  └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>
            └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\bot\bot.py", line 233, in get_me
    result = await self.request(api.Methods.GET_ME, payload)
                   │    │       │   │       │       └ {}
                   │    │       │   │       └ <aiogram.utils.helper.Item object at 0x0000028894C82E60>
                   │    │       │   └ <class 'aiogram.bot.api.Methods'>
                   │    │       └ <module 'aiogram.bot.api' from 'C:\\Users\\zhvit\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\aiogram\\b...
                   │    └ <function BaseBot.request at 0x0000028894CBC310>
                   └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\bot\base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
                 │   │                  │    │              │    │       │             │       │     └ None
                 │   │                  │    │              │    │       │             │       └ {}
                 │   │                  │    │              │    │       │             └ 'getMe'
                 │   │                  │    │              │    │       └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>
                 │   │                  │    │              │    └ TelegramAPIServer(base='https://api.telegram.org/bot{token}/{method}', file='https://api.telegram.org/file/bot{token}/{path}')
                 │   │                  │    │              └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>
                 │   │                  │    └ <function BaseBot.get_session at 0x0000028894C9FB50>
                 │   │                  └ <aiogram.bot.bot.Bot object at 0x0000028894ED61D0>
                 │   └ <function make_request at 0x0000028894C4BA30>
                 └ <module 'aiogram.bot.api' from 'C:\\Users\\zhvit\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\aiogram\\b...

  File "C:\Users\zhvit\AppData\Local\Programs\Python\Python310\lib\site-packages\aiogram\bot\api.py", line 142, in make_request
    raise exceptions.NetworkError(f"aiohttp client throws an error: {e.__class__.__name__}: {e}")
          │          └ <class 'aiogram.utils.exceptions.NetworkError'>
          └ <module 'aiogram.utils.exceptions' from 'C:\\Users\\zhvit\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\a...

aiogram.utils.exceptions.NetworkError: Aiohttp client throws an error: ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [getaddrinfo failed]
